{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport { json } from \"react-router-dom\";\nconst sliceCart = createSlice({\n  name: 'carts',\n  initialState: {\n    cart: localStorage.getItem('cartItems') ? JSON.parse(localStorage.getItem('cartItems')) : [],\n    cartTotalQuantity: 0,\n    cartTotalAmount: 0\n  },\n  reducers: {\n    getCartItems: (state, action) => {\n      const getIndex = state.cart.findIndex(item => item.id === action.payload.id);\n      if (getIndex >= 0) {\n        state.cart[getIndex].cartItems += 1;\n      } else {\n        const tempProd = {\n          ...action.payload,\n          cartItems: 1\n        };\n        state.cart.push(tempProd);\n      }\n      localStorage.setItem('cartItems', JSON.stringify(state.cart));\n    },\n    removeFromCart: (state, action) => {\n      const filtered = state.cart.filter(item => item.id !== action.payload.id);\n      state.cart = filtered;\n      localStorage.setItem('cartItems', JSON.stringify(state.cart));\n    },\n    removeAllCart: (state, action) => {\n      state.cart = [];\n      localStorage.setItem('cartItems', JSON.stringify(state.cart));\n    },\n    decreaseCartItem: (state, action) => {\n      const getIndex = state.cart.findIndex(item => item.id === action.payload.id);\n      if (state.cart[getIndex].cartItems > 1) {\n        state.cart[getIndex].cartItems -= 1;\n      } else if (state.cart[getIndex].cartItems === 1) {\n        const filtered = state.cart.filter(item => item.id !== action.payload.id);\n        state.cart = filtered;\n      }\n      localStorage.setItem('cartItems', JSON.stringify(state.cart));\n    },\n    totalAmount: (state, action) => {\n      const {\n        total,\n        quantity\n      } = state.cart.reduce((cartTotal, item) => {\n        const {\n          price,\n          cartItems\n        } = item;\n        const itemTotal = price * cartItems;\n        cartTotal.total += itemTotal;\n        cartTotal.quantity += cartItems;\n        return cartTotal;\n      }, {\n        total: 0\n      });\n    }\n  }\n});\nexport const {\n  getCartItems,\n  removeFromCart,\n  removeAllCart,\n  decreaseCartItem\n} = sliceCart.actions;\nexport default sliceCart.reducer;","map":{"version":3,"names":["createSlice","json","sliceCart","name","initialState","cart","localStorage","getItem","JSON","parse","cartTotalQuantity","cartTotalAmount","reducers","getCartItems","state","action","getIndex","findIndex","item","id","payload","cartItems","tempProd","push","setItem","stringify","removeFromCart","filtered","filter","removeAllCart","decreaseCartItem","totalAmount","total","quantity","reduce","cartTotal","price","itemTotal","actions","reducer"],"sources":["C:/Users/simis/OneDrive/Radna povrÅ¡ina/ecomm/E-Commerce-repo/src/store/sliceCart.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nimport { json } from \"react-router-dom\";\r\n\r\n\r\nconst sliceCart =  createSlice({\r\n    name: 'carts',\r\n    initialState: {\r\n        cart: localStorage.getItem('cartItems') ? JSON.parse(localStorage.getItem('cartItems')) : [],\r\n        cartTotalQuantity: 0,\r\n        cartTotalAmount: 0\r\n    },\r\n    reducers: {\r\n        getCartItems: (state, action) => {\r\n            const getIndex = state.cart.findIndex((item) => item.id  === action.payload.id)\r\n            \r\n            if (getIndex >= 0) {\r\n                state.cart[getIndex].cartItems += 1\r\n            } else {\r\n                const tempProd = {...action.payload, cartItems: 1}\r\n                state.cart.push(tempProd)\r\n            }\r\n            localStorage.setItem('cartItems', JSON.stringify(state.cart))\r\n        },\r\n\r\n        removeFromCart: (state, action) => {\r\n            const filtered = state.cart.filter((item) => item.id !== action.payload.id)\r\n            state.cart = filtered\r\n\r\n            localStorage.setItem('cartItems', JSON.stringify(state.cart))\r\n\r\n        },\r\n\r\n        removeAllCart: (state, action) => {\r\n            state.cart = []\r\n            localStorage.setItem('cartItems', JSON.stringify(state.cart))\r\n        },\r\n\r\n        decreaseCartItem: (state, action) => {\r\n            const getIndex = state.cart.findIndex((item) => item.id  === action.payload.id)\r\n\r\n            if ( state.cart[getIndex].cartItems > 1 ) {\r\n                state.cart[getIndex].cartItems -= 1\r\n            } else if ( state.cart[getIndex].cartItems === 1) {\r\n                const filtered = state.cart.filter((item) => item.id !== action.payload.id)\r\n                state.cart = filtered\r\n\r\n            }\r\n            localStorage.setItem('cartItems', JSON.stringify(state.cart))\r\n\r\n        },\r\n        \r\n        totalAmount: (state, action) => {\r\n            const {total, quantity} = state.cart.reduce((cartTotal, item) => {\r\n                const {price, cartItems} = item\r\n                const itemTotal = price * cartItems\r\n                \r\n                cartTotal.total += itemTotal\r\n                cartTotal.quantity += cartItems\r\n\r\n\r\n                return cartTotal\r\n            },\r\n                {total : 0}\r\n            )\r\n        }\r\n        \r\n    }\r\n\r\n})\r\n\r\n\r\nexport const { getCartItems, removeFromCart, removeAllCart, decreaseCartItem } = sliceCart.actions\r\nexport default sliceCart.reducer"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}