{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport { json } from \"react-router-dom\";\nconst sliceCart = createSlice({\n  name: 'carts',\n  initialState: {\n    cart: localStorage.getItem('cartItems') ? JSON.parse(localStorage.getItem('cartItems')) : []\n  },\n  reducers: {\n    getCartItems: (state, action) => {\n      const getIndex = state.cart.findIndex(item => item.id === action.payload.id);\n      if (getIndex >= 0) {\n        state.cart[getIndex].cartItems += 1;\n      } else {\n        const tempProd = {\n          ...action.payload,\n          cartItems: 1\n        };\n        state.cart.push(tempProd);\n      }\n      localStorage.setItem('cartItems', JSON.stringify(state.cart));\n    },\n    removeFromCart: (state, action) => {\n      const filtered = state.cart.filter(item => item.id !== action.payload.id);\n      state.cart = filtered;\n      localStorage.setItem('cartItems', JSON.stringify(state.cart));\n    },\n    removeAllCart: (state, action) => {\n      state.cart = [];\n      localStorage.setItem('cartItems', JSON.stringify(state.cart));\n    },\n    decreaseCartItem: (state, action) => {\n      const getIndex = state.cart.findIndex(item => item.id === action.payload.id);\n      if (state.cart[getIndex].cartItems > 1) {\n        state.cart[getIndex].cartItems -= 1;\n      } else if (state.cart[getIndex].cartItems === 1) {\n        const filtered = state.cart.filter(item => item.id !== action.payload.id);\n        state.cart = filtered;\n      }\n      localStorage.setItem('cartItems', JSON.stringify(state.cart));\n    }\n  }\n});\nexport const {\n  getCartItems,\n  removeFromCart,\n  removeAllCart,\n  decreaseCartItem\n} = sliceCart.actions;\nexport default sliceCart.reducer;","map":{"version":3,"names":["createSlice","json","sliceCart","name","initialState","cart","localStorage","getItem","JSON","parse","reducers","getCartItems","state","action","getIndex","findIndex","item","id","payload","cartItems","tempProd","push","setItem","stringify","removeFromCart","filtered","filter","removeAllCart","decreaseCartItem","actions","reducer"],"sources":["C:/Users/simis/OneDrive/Radna povrÅ¡ina/ecomm/E-Commerce-repo/src/store/sliceCart.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nimport { json } from \"react-router-dom\";\r\n\r\n\r\nconst sliceCart =  createSlice({\r\n    name: 'carts',\r\n    initialState: {\r\n        cart: localStorage.getItem('cartItems') ? JSON.parse(localStorage.getItem('cartItems')) : []\r\n    },\r\n    reducers: {\r\n        getCartItems: (state, action) => {\r\n            const getIndex = state.cart.findIndex((item) => item.id  === action.payload.id)\r\n            \r\n            if (getIndex >= 0) {\r\n                state.cart[getIndex].cartItems += 1\r\n            } else {\r\n                const tempProd = {...action.payload, cartItems: 1}\r\n                state.cart.push(tempProd)\r\n            }\r\n            localStorage.setItem('cartItems', JSON.stringify(state.cart))\r\n        },\r\n\r\n        removeFromCart: (state, action) => {\r\n            const filtered = state.cart.filter((item) => item.id !== action.payload.id)\r\n            state.cart = filtered\r\n\r\n            localStorage.setItem('cartItems', JSON.stringify(state.cart))\r\n\r\n        },\r\n\r\n        removeAllCart: (state, action) => {\r\n            state.cart = []\r\n            localStorage.setItem('cartItems', JSON.stringify(state.cart))\r\n        },\r\n\r\n        decreaseCartItem: (state, action) => {\r\n            const getIndex = state.cart.findIndex((item) => item.id  === action.payload.id)\r\n\r\n            if ( state.cart[getIndex].cartItems > 1 ) {\r\n                state.cart[getIndex].cartItems -= 1\r\n            } else if ( state.cart[getIndex].cartItems === 1) {\r\n                const filtered = state.cart.filter((item) => item.id !== action.payload.id)\r\n                state.cart = filtered\r\n\r\n            }\r\n            localStorage.setItem('cartItems', JSON.stringify(state.cart))\r\n\r\n        },\r\n\r\n        \r\n    }\r\n\r\n})\r\n\r\n\r\nexport const { getCartItems, removeFromCart, removeAllCart, decreaseCartItem } = sliceCart.actions\r\nexport default sliceCart.reducer"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}